<Window x:Class="MedicationScheduler.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="clr-namespace:MedicationScheduler.Views"
        mc:Ignorable="d"
        Title="Medication Scheduler"
        Width="1200" Height="720"
        Background="#F5F6FA">

    <!-- Local resources (icon font + NavRadio style) -->
    <Window.Resources>
        <FontFamily x:Key="IconFont">Segoe MDL2 Assets</FontFamily>

        <SolidColorBrush x:Key="NavSelectedBrush" Color="#6DB7F6"/>
        <SolidColorBrush x:Key="NavHoverBrush"    Color="#33FFFFFF"/>
        <SolidColorBrush x:Key="NavTextBrush"     Color="#E5E7EB"/>
        <SolidColorBrush x:Key="NavTextActive"    Color="White"/>
        <SolidColorBrush x:Key="PageBgBrush"      Color="#F5F6FA"/>

        <Style x:Key="NavRadio" TargetType="RadioButton">
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Height" Value="44"/>
            <Setter Property="Margin" Value="16,6,16,6"/>
            <Setter Property="Foreground" Value="{StaticResource NavTextBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Border x:Name="root" CornerRadius="12" Padding="12" Background="{TemplateBinding Background}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="28"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0"
                                           Text="{TemplateBinding Tag}"
                                           FontFamily="{StaticResource IconFont}"
                                           FontSize="14"
                                           VerticalAlignment="Center"/>
                                <ContentPresenter Grid.Column="1" VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="root" Property="Background" Value="{StaticResource NavSelectedBrush}"/>
                                <Setter Property="Foreground" Value="{StaticResource NavTextActive}"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="True"/>
                                    <Condition Property="IsChecked" Value="False"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="root" Property="Background" Value="{StaticResource NavHoverBrush}"/>
                            </MultiTrigger>
                            <Trigger Property="IsKeyboardFocused" Value="True">
                                <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0" Background="#1976D2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="24"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Margin="24,24,24,0">
                    <TextBlock Text="Medication" Foreground="White" FontSize="22" FontWeight="Bold"/>
                    <TextBlock Text="Scheduler"  Foreground="White" FontSize="22" FontWeight="Bold"/>
                </StackPanel>

                <StackPanel Grid.Row="2" Margin="0,12,0,0">
                    <!-- MDL2 glyphs -->
                    <RadioButton Style="{StaticResource NavRadio}" GroupName="NavGroup"
                                 IsChecked="True" Tag="&#xE80F;" Content="Dashboard"
                                 Checked="DashboardNav_Checked"/>
                    <RadioButton Style="{StaticResource NavRadio}" GroupName="NavGroup"
                                 Tag="&#xE8A5;" Content="Medication List"
                                 Checked="MedicationListNav_Checked"/>
                    <RadioButton Style="{StaticResource NavRadio}" GroupName="NavGroup"
                                 Tag="&#xE787;" Content="Daily Schedule"
                                 Checked="DailyScheduleNav_Checked"/>
                    <RadioButton Style="{StaticResource NavRadio}" GroupName="NavGroup"
                                 x:Name="WarningsNav"
                                 Tag="&#xE7BA;" Content="Warnings"
                                 Checked="WarningsNav_Checked"/>
                </StackPanel>

                <!-- Footer with disclaimer -->
                <StackPanel Grid.Row="3" Margin="24,0,24,0">
                    <Border Background="#1565C0" CornerRadius="8" Padding="12">
                        <TextBlock TextWrapping="Wrap" Foreground="#E3F2FD" FontSize="11">
                            <Run Text="⚠️ Educational Use Only" FontWeight="Bold"/>
                            <LineBreak/>
                            <Run Text="Not for medical decisions. Consult healthcare providers."/>
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main area -->
        <Grid Grid.Column="1" Background="#F5F6FA" Margin="16">
            <!-- Dashboard page -->
            <views:DashboardView x:Name="DashboardPanel" Visibility="Visible"/>

            <!-- Medication List page -->
            <views:MedicationListView x:Name="MedicationListPanel" Visibility="Collapsed"/>

            <!-- Daily Schedule page -->
            <views:DailyScheduleView x:Name="DailySchedulePanel" Visibility="Collapsed"/>

            <!-- Warnings page -->
            <views:WarningsView x:Name="WarningsPanel" Visibility="Collapsed"/>

            <!-- Add Medication page -->
            <views:AddEditMedicationView x:Name="AddEditMedicationPanel" Visibility="Collapsed" />

            <!-- User Profile page (if needed) -->
            <views:UserProfileView x:Name="UserProfilePanel" Visibility="Collapsed"/>
        </Grid>
    </Grid>
</Window>
